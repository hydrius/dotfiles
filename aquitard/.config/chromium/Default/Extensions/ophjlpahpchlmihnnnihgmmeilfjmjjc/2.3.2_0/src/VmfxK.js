importScripts("BHzYK.js");cI={NOTE_BODY_REGEX:/<!--note_contents-->\s*(<div[^>]*[^>\"']*_note_title_area[^>]*>(.*)<\/div>\s*<div[^>]*[^>\"']*_note_contents_area[^>]*>(.*)<\/div>)\s*<!--end_note_contents-->/i,PRE_BODY_REGEX:/<div[^>]*[^>\"']*_note_contents[^>]*>\s*(<div[^>]*[^>\"']*_note_title_area[^>]*>(.*)<\/div>\s*<div[^>]*[^>\"']*_note_contents_area[^>]*>(.*)<\/div>)\s*<\/div>\s*<\/body>\s*<\/html>/i,PRE_BODY_REGEX2:/<div[^>]*[^>\"']*_note_contents[^>]*>\s*(<div[^>]*[^>\"']*_note_title_area[^>]*>(.*)<\/div>\s*<div[^>]*[^>\"']*_note_contents_area[^>]*>(.*)<\/div>)\s*<\/div>\s*<\/div>\s*<\/body>\s*<\/html>/i,zip:new JSZip,fileReaderByNote:new FileReader,wQM:function(t){t&&(kR[cd][hp]=JSON.parse(t))},pushLineConfig:function(t){kR[Vf]=t[Vf]?t[Vf]:kR[Vf],kR.LEGY_ENCRYPT_KEY=t.LEGY_ENCRYPT_KEY||kR.LEGY_ENCRYPT_KEY,kR[yd]=t[yd]||kR[yd],kR.B=t.B||kR.B,kR[Wh]=t[Wh]||kR[Wh],kR.A=t.A||kR.A,kR[Ns]=t[Ns]||kR[Ns],kR[rn]=t[rn]||kR[rn],kR[cd]=t[cd]||kR[cd]},fGG:function(t,e,i){var s=[],r=0;cI.WOf(0,i,e,function(e){e&&s.push(e),++r%10==0&&(reply("fGG"+t,{callbackType:"receiving",value:s}),s=[],e=null),r>=i[wf]&&reply("fGG"+t,{callbackType:"success",value:s})})},WOf:function(t,e,i,s){t>=e[wf]||cI.bGzafagexv(e[t].url,e[t].memoAttributes,function(r,o){if(!r)return s(),void cI.WOf(++t,e,i,s);function a(t,e){if(t){var i=t.replace(/[\r|\n]/g,"").match(cI.NOTE_BODY_REGEX);null==i&&null==(i=t.replace(/[\r|\n]/g,"").match(cI.PRE_BODY_REGEX))&&null==(i=t.replace(/[\r|\n]/g,"").match(cI.PRE_BODY_REGEX2))&&(i=["","",""]);var r=i[2],o=i[1];e.title=r,e.contents=o,e.isUpdatedContents=!1,s(e),i=null}else s()}r&&"application/zip"==r[wO]?cI.DSkkTaQiQs(r,o,function(r){a(r,o),cI.WOf(++t,e,i,s)}.bind(this)):cI.pPEeTVpKOg(r,{},function(r){a(r,o),cI.WOf(++t,e,i,s)}.bind(this))},function(){s(),cI.WOf(++t,e,i,s)},"blob",{mid:i,channelToken:kR[Wh]})},mytojkkkVo:function(t,e){return t?t.replace(/<\!--([\s\S]*?)-->/g," ").replace(/<(script|style|link)([\s\S]*?)(<\/script|style|link)>/gi," ").replace(/<iframe[^>]+>/gi," ").replace(/<([^>]+)>/gi,function(t){return e&&!1===e.removeImage||(t=t.replace(/\ssrc=["']?([^>"']+)["']?[^>]/gi,function(t,e){return e.search(/^data:image\/[^;]+;base64\,/)<0?t.replace(e,""):t})),t.replace(/\s(on[A-Za-z]+\s*?=\s*[^>|^\s]*)/g,"").replace(/href\s*=\s*["'](.*?)["']/gi,"").replace(/url\(([^)]+)\)/gi,"")}):t},bGzafagexv:function(t,e,i,s,r,o){cI.OluOHoPfjy(t,cI.hwMulxrtVQ(o),r,function(t){i(t,e)},s)},hwMulxrtVQ:function(t){return{"X-Line-Mid":t[hb],"X-Line-ChannelToken":t.channelToken,"x-lal":kR[Vf],"X-Line-Application":kR.D[kR.A]+"\t"+kR.B+"\t"+kR[WS]+"\t"+kR.C}},DSkkTaQiQs:function(t,e,i){try{cI.oEVWMQlaBC(t,null,function(s){if(!s)return i&&i(),void(t=null);try{cI.zip.load(s),s=null;var r=cI.zip[VO](e.fileName+".html")||cI.zip[VO](e.fileName+".memo")||cI.zip[VO](e.fileName+".note");r?i(r.asText(),e):i&&i()}catch(t){i&&i()}t=null})}catch(t){i&&i()}},oEVWMQlaBC:function(t,e,i){var s=cI.fileReaderByNote;s.onload=function(){t=null,i(s[nf],e)},s.onerror=function(){i(null,e)},s.readAsArrayBuffer(t)},pPEeTVpKOg:function(t,e,i){var s=new FileReader;s.onload=function(){i(s[nf],e)},s.onerror=function(t){i("",e)},s.readAsText(t)},OluOHoPfjy:function(t,e,i,s,r){var o=new XMLHttpRequest;if(o.open("GET",t,!0),o[ru]=i,o[Fv]=1e4,e)for(var a in e)o.setRequestHeader(a,e[a]);o.onload=function(){if(4==o.readyState&&200==o[sf]){var t=o.response;s(t)}else r()},o.onerror=r,o.ontimeout=function(){o.abort(),r()},o.send()}};onmessage=function(t){if(t.data instanceof Object&&t.data.hasOwnProperty("method")&&t.data.hasOwnProperty("arguments")){var e=Array.prototype.slice.call(t.data.arguments);cI[t.data[Rf]].apply(self,e)}};reply=function(){if(arguments[wf]<1)throw new TypeError("reply - not enough arguments");postMessage({method:arguments[0],arguments:Array.prototype.slice.call(arguments,1)})}